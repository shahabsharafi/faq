<div class="account-list ui-fluid">
    <div class="ui-g list-top">
        <div class="ui-g-4">
            <p-dataTable [value]="list" (onRowSelect)="onRowSelect($event)" dataKey="_id" selectionMode="single" [lazy]="true" [rows]="10" [paginator]="true" [totalRecords]="totalRecords" (onLazyLoad)="loadCarsLazy($event)">
                <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [filter]='col.filter' [filterMatchMode]='col.filterMatchMode' [sortable]='col.sortable'></p-column>
            </p-dataTable>
        </div>
        <div class="ui-g-8" *ngIf="item">
            <p-tabView>
                <p-tabPanel [header]="res.account_account">
                    <div class="ui-g">
                        <div class="ui-g-12 ui-lg-3">
                            <span>{{res.account_username}}</span>
                            <input pInputText [(ngModel)]="item.username" />
                        </div>
                        <div class="ui-g-12 ui-lg-3">
                            <span>{{res.account_password}}</span>
                            <input pPassword type="password" [(ngModel)]="item.password" />
                        </div>
                        <div class="ui-g-12 ui-lg-3">
                            <span>{{res.account_email}}</span>
                            <input pInputText [(ngModel)]="item.email" />
                        </div>
                        <div class="ui-g-12 ui-lg-3">
                            <span>{{res.account_sms}}</span>
                            <input pInputText [(ngModel)]="item.sms" />
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <span>{{res.account_roles}}</span>
                            <p-autoComplete [(ngModel)]="item.roles" [suggestions]="roles" (completeMethod)="onSearchRole($event)" [multiple]="true" field="name"></p-autoComplete>
                        </div>
                    </div>
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <span>{{res.account_access}}</span>
                            <c-tree [value]="treeData" selectionMode="checkbox" [(selection)]="item.access"></c-tree>
                        </div>
                    </div>
                </p-tabPanel>
                <p-tabPanel [header]="res.account_profile" *ngIf="item.profile">
                    <div class="ui-g">
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_firstName}}</span>
                            <input pInputText [(ngModel)]="item.profile.firstName" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_lastName}}</span>
                            <input pInputText [(ngModel)]="item.profile.lastName" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_fatherName}}</span>
                            <input pInputText [(ngModel)]="item.profile.fatherName" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_birthDay}}</span>
                            <c-datepicker [(value)]="item.profile.birthDay"></c-datepicker>
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_no}}</span>
                            <input pInputText [(ngModel)]="item.profile.no" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_placeOfIssues}}</span>
                            <input pInputText [(ngModel)]="item.profile.placeOfIssues" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_nationalCode}}</span>
                            <input pInputText [(ngModel)]="item.profile.nationalCode" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_birthPlace}}</span>
                            <input pInputText [(ngModel)]="item.profile.birthPlace" />
                        </div>
                    </div>
                </p-tabPanel>
                <p-tabPanel [header]="res.account_contact" *ngIf="item.contact">
                    <div class="ui-g">
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_mobile}}</span>
                            <input pInputText [(ngModel)]="item.contact.mobile" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_house}}</span>
                            <input pInputText [(ngModel)]="item.contact.house" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_work}}</span>
                            <input pInputText [(ngModel)]="item.contact.work" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_email}}</span>
                            <input pInputText [(ngModel)]="item.contact.email" />
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_province}}</span>
                            <p-autoComplete [(ngModel)]="item.contact.province" [suggestions]="provinces" (completeMethod)="onSearchProvince($event)" (onSelect)="onSelectProvince($event)" field="caption"></p-autoComplete>
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_city}}</span>
                            <p-autoComplete [(ngModel)]="item.contact.city" [suggestions]="cities" (completeMethod)="onSearchCity($event)" field="caption"></p-autoComplete>
                        </div>
                    </div>
                </p-tabPanel>
                <p-tabPanel [header]="res.account_education" *ngIf="item.education">
                    <div class="ui-g">
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_grade}}</span>
                            <p-autoComplete [(ngModel)]="item.education.grade" [suggestions]="grades" (completeMethod)="onSearchGrade($event)" field="caption"></p-autoComplete>
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_major}}</span>
                            <p-autoComplete [(ngModel)]="item.education.major" [suggestions]="majors" (completeMethod)="onSearchMajor($event)" field="caption"></p-autoComplete>
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_university}}</span>
                            <p-autoComplete [(ngModel)]="item.education.university" [suggestions]="universities" (completeMethod)="onSearchUniversity($event)" field="caption"></p-autoComplete>
                        </div>
                        <div class="ui-g-12 ui-lg-3 ui-md-6">
                            <span>{{res.account_level}}</span>
                            <p-autoComplete [(ngModel)]="item.education.level" [suggestions]="levels" (completeMethod)="onSearchLevel($event)" field="caption"></p-autoComplete>
                        </div>
                    </div>
                </p-tabPanel>
                <p-tabPanel [header]="res.account_extra" *ngIf="item.extra">
                    <div class="ui-g">
                        <div class="ui-g-12 ui-lg-6 ui-md-6">
                            <span>{{res.account_language}}</span>
                            <p-autoComplete [(ngModel)]="item.extra.language" [suggestions]="languages" (completeMethod)="onSearchLanguage($event)" [multiple]="true" field="caption"></p-autoComplete>
                        </div>
                        <div class="ui-g-12 ui-lg-6 ui-md-6">
                            <span>{{res.account_dialect}}</span>
                            <p-autoComplete [(ngModel)]="item.extra.dialect" [suggestions]="dialects" (completeMethod)="onSearchDialect($event)" [multiple]="true" field="caption"></p-autoComplete>
                        </div>
                    </div>
                </p-tabPanel>
                <p-tabPanel [header]="res.account_upload">
                    <div class="ui-g">
                        <div class="ui-g-12">

                            <p-fileUpload name="myfile[]" url="/upload" multiple="multiple" accept="image/*" [chooseLabel]="res.fileupload_chooseLabel" [uploadLabel]="res.fileupload_uploadLabel" [cancelLabel]="res.fileupload_cancelLabel"></p-fileUpload>
                        </div>
                    </div>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
    <div class="ui-g">
        <div class="ui-g-4">
            <button pButton type="button" icon="fa-plus" iconPos="right" [label]="res.action_new" (click)="onNew()"></button>
        </div>
        <div class="ui-g-8" *ngIf="item">
            <button pButton type="button" icon="fa-floppy-o" iconPos="right" [label]="res.action_save" (click)="onSave()"></button>
            <button pButton type="button" icon="fa-trash-o" iconPos="right" [label]="res.action_delete" (click)="onRemove()"></button>
            <button pButton type="button" icon="fa-times" iconPos="right" [label]="res.action_cancel" (click)="clear()"></button>
        </div>
    </div>
</div>
